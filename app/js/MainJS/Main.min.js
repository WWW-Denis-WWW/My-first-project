"use strict";new Swiper(".swiper-container",{loop:!0,grabCursor:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0,pageUpdown:!0},mousewheel:{sensitivity:1}});let isScrolling=!1;function throttleScroll(e){0==isScrolling&&window.requestAnimationFrame((function(){scrolling(e),isScrolling=!1})),isScrolling=!0}window.addEventListener("scroll",throttleScroll,!1),document.addEventListener("DOMContentLoaded",scrolling,!1);let sliderActive=document.querySelector(".wrapper_slider"),block_info=document.querySelector(".info"),begin_Ti=document.querySelector(".begin .title"),begin_Te=document.querySelector(".begin .text"),begin_B=document.querySelector(".begin .box_button"),causes_text=document.querySelectorAll(".text_causes"),causes_pic=document.querySelectorAll(".photo_causes"),support=document.querySelector(".support"),Sleft=document.querySelectorAll(".stick_left"),Sright=document.querySelectorAll(".stick_right");const LET_one_PV=[begin_Ti,begin_Te,begin_B,block_info,sliderActive];function scrolling(e){if(isFullyVisible(block_info))for(let e=0;e<Sleft.length;e++)Sleft[e].classList.add("active"),Sright[e].classList.add("active");else for(let e=0;e<Sleft.length;e++)Sleft[e].classList.remove("active"),Sright[e].classList.remove("active");isPartiallyVisible(support)&&support.classList.add("active");for(let e=0;e<LET_one_PV.length;e++)isPartiallyVisible(LET_one_PV[e])&&LET_one_PV[e].classList.add("active");for(let e=0;e<causes_pic.length;e++){let t=causes_pic[e];isPartiallyVisible(t)&&t.classList.add("active")}for(let e=0;e<causes_text.length;e++){let t=causes_text[e];isPartiallyVisible(t)&&t.classList.add("active")}}function isPartiallyVisible(e){let t=e.getBoundingClientRect(),i=t.top,o=t.bottom,n=t.height;return i+n>=0&&n+window.innerHeight>=o}function isFullyVisible(e){let t=e.getBoundingClientRect(),i=t.top,o=t.bottom;return i>=0&&o<=window.innerHeight}let form_check=document.querySelectorAll(".checkbox"),form_TA=document.querySelector(".discription"),form=document.querySelector(".sup_form"),b=0,minlenghtTA=document.querySelector("#score"),show_ML_TA=document.querySelector("#min-lenghtTA"),scoreTA=document.querySelector(".lenght_TA"),submit=document.querySelector(".sub_btn");form_TA.placeholder="Выбирите тему(-ы).\nЕсли вы напишите текст и оставите его без темы на 2 минут он пропадёт",form_TA.disabled=!0,submit.disabled=!0,form.onchange=()=>{for(let e=0;e<form_check.length;e++){let t=form_check[e];1==t.checked?(b++,form_TA.placeholder=t.dataset.checkname+" ",show_ML_TA.textContent=t.dataset.minlenght):b--}b>=0?form_TA.disabled=!1:(form_TA.disabled=!0,show_ML_TA.textContent=0,form_TA.value.length>0?setTimeout(()=>{form_TA.value="",form_TA.placeholder="Выбирите тему(-ы).Если вы напишите текст и оставите его без темы на 2 мин. он пропадёт",form_TA.disabled=!0,minlenght.textContent=0},12e4):form_TA.placeholder="Выбирите тему(-ы).\nЕсли вы напишите текст и оставите его без темы на 2 минут он пропадёт"),2==b&&(show_ML_TA.textContent=50,form_TA.placeholder="Напишите на какой странице нашли ошибку.Для удобства цитируйте предложение с ошибкой.\nКаккую статью хотите?"),0!=show_ML_TA.textContent&&form_TA.value.length>=Number(show_ML_TA.textContent)?scoreTA.classList.add("valid"):scoreTA.classList.remove("valid"),b>=0&&inputN.value.length>0&&inputE.value.length>0&&scoreTA.classList.contains("valid")?(submit.disabled=!1,submit.classList.add("active")):(submit.disabled=!0,submit.classList.remove("active")),b=0},form_TA.oninput=()=>{minlenghtTA.textContent=form_TA.value.length,form_TA.value.length>=Number(show_ML_TA.textContent)?scoreTA.classList.add("valid"):scoreTA.classList.remove("valid"),b>=0&&inputN.value.length>0&&inputE.value.length>0&&scoreTA.classList.contains("valid")?(submit.disabled=!1,submit.classList.add("active")):(submit.disabled=!0,submit.classList.remove("active"))};let inputN=document.querySelector(".input._name"),inputE=document.querySelector(".input._email"),input_boxN=document.querySelector(".input_box._name"),input_boxE=document.querySelector(".input_box._email");input_boxN.addEventListener("click",()=>inputN.focus()),inputN.addEventListener("focusin",()=>input_boxN.classList.add("focus")),inputN.addEventListener("focusout",()=>{""==inputN.value&&input_boxN.classList.remove("focus")}),input_boxE.addEventListener("click",()=>inputE.focus()),inputE.addEventListener("focusin",()=>input_boxE.classList.add("focus")),inputE.addEventListener("focusout",()=>{""==inputE.value&&input_boxE.classList.remove("focus")});